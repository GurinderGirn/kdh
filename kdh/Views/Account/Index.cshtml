@model IEnumerable<kdh.ViewModels.PatientVM>

@{
    ViewBag.Title = "List of All Patients";
}

<h2>List of All Patients</h2>
<div class="btn btn-outline-primary my-3">@Html.ActionLink("Add a new patient", "Create", "Account")</div>


@foreach (var p in Model)
{
    <div>
        Name: @p.FullName   (@p.Gender)     Email address: @p.Email

        @* new { id = p.Id }  id should be the same as parameter of the action*@
        <span class="m-2">@Html.ActionLink("Details", "Detail", "Account", new { id = p.Id }, null)</span>
        <span class="mr-2">@Html.ActionLink("Edit Patient", "Edit", "Account", new { id = p.Id }, null)</span>
        <span class="">
            @if (p.UserId.HasValue)
            {
                @Html.ActionLink("Delete User Account", "Delete", "Account", new { id = p.UserId }, null)
            }        
        </span>

        
       

    </div>
}
